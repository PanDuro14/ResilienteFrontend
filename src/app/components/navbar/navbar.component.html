<!-- DESKTOP -->
<div class="navbar">
  <div class="logo">
    <img src="assets/img/resiliente-logo.png" alt="Resiliente" class="logo-image" routerLink="/home" />
  </div>
  <div class="right-section">
    <div class="nav-links">
      <ion-button *ngFor="let nav of navbar" fill="clear" [routerLink]="nav.link" lines="none" class="nav-link">
        {{ nav.label }}
      </ion-button>
      <ion-button fill="clear" (click)="openLoginModal()">Login</ion-button>
    </div>
    <div class="divider"></div>

    <div class="social-icons">
      <ion-item *ngFor="let red of redes" [href]="red.url" target="_blank" lines="none">
        <ion-icon [name]="red.name" class="icon-menu"></ion-icon>
      </ion-item>
    </div>
  </div>
</div>

<!-- MÓVIL -->
<nav class="sidebar" [ngClass]="{ 'open': sidebarOpen, 'hidden': !sidebarOpen }">
  <div class="sidebar-top">
    <a routerLink="/home" class="logo__wrapper">
      <img src="assets/icon/resiliente-icon.png" alt="Resiliente Logo" class="logo" />
      <span class="company-name">Resiliente</span>
    </a>
  </div>
  <button class="expand-btn" type="button" (click)="toggleSidebar()">
    <ion-icon src="assets/icon/navBar/fill/menu-hamburguesa.svg"></ion-icon>
  </button>
  <div class="divider"></div>
  <div class="sidebar-links">
    <ul>
      <li *ngFor="let item of sidebar">
        <a [routerLink]="item.link" [title]="item.label">
          <ion-icon [src]="item.icon"></ion-icon>
          <span class="link">{{ item.label }}</span>
        </a>
      </li>
    </ul>
  </div>
  <div class="sidebar__profile">
    <ion-avatar>
      <img class="avatar" src="https://pbs.twimg.com/media/FxQnEEoXoAAAmHE.jpg" alt="User Avatar" />
      <div class="online__status"></div>
    </ion-avatar>
    <div class="avatar__name">
      <div class="user-name">User Name</div>
      <div class="email">userexample.com</div>
    </div>
    <ion-icon name="log-in-outline" class="logout" (click)="openLoginModal()"></ion-icon>
  </div>
</nav>

<!-- MODAL LOGIN -->
<ion-modal [isOpen]="isLoginModalOpen" (didDismiss)="didDismissLoginModal()">
  <ng-template>
    <div class="container" [ngClass]="{'active': isSignUpMode}" id="container">
      <div class="form-container sign-up">
        <form>
          <h1>Crear Cuenta</h1>
          <div class="social-icons">
            <ion-button>
              <ion-icon name="logo-google"></ion-icon>
            </ion-button>
          </div>
          <span>o usa tu correo para registrarte</span>
          <ion-input type="text" label="Nombre de Usuario" labelPlacement="floating" name="userName" required></ion-input>
          <ion-input type="email" label="Correo" labelPlacement="floating" name="correo" required></ion-input>
          <ion-input [type]="passwordFieldType" label="Contraseña" labelPlacement="floating" name="contraseña" required>
            <ion-icon class="eye" slot="end" (click)="togglePasswordVisibility()" [name]="passwordFieldType === 'text' ? 'eye-off-outline' : 'eye-outline'"></ion-icon>
          </ion-input>
          <!-- <ion-input type="password" label="Confirmar Contraseña" labelPlacement="floating" name="contraseña" required></ion-input> -->
          <button>Registrarse</button>
        </form>
      </div>
      <div class="form-container sign-in">
        <form>
          <h1>Iniciar Sesión</h1>
          <div class="social-icons">
            <ion-button>
              <ion-icon name="logo-google"></ion-icon>
            </ion-button>
          </div>
          <span>o usa tu correo y contraseña</span>
            <ion-input type="email" label="Correo" labelPlacement="floating" name="correo" required></ion-input>
            <ion-input [type]="passwordFieldType" label="Contraseña" labelPlacement="floating" name="contraseña" required>
              <ion-icon class="eye" slot="end" (click)="togglePasswordVisibility()" [name]="passwordFieldType === 'text' ? 'eye-off-outline' : 'eye-outline'"></ion-icon>
            </ion-input>
          <a href="#">¿Olvidaste tu contraseña?</a>
          <button>Iniciar Sesión</button>
        </form>
      </div>
      <div class="toggle-container">
        <div class="toggle">
          <div class="toggle-panel toggle-left">
            <h1 >¡Bienvenido de Nuevo!</h1>
            <p>Introduce tus datos personales para usar todas las funcionalidades del sitio</p>
            <button (click)="showLoginForm()">Iniciar Sesión</button>
          </div>
          <div class="toggle-panel toggle-right">
            <h1>¡Hola, Amigo!</h1>
            <p>Regístrate con tus datos personales para usar todas las funcionalidades del sitio</p>
            <button (click)="showSignUpForm()">Registrarse</button>
          </div>
        </div>
      </div>
    </div>
  </ng-template>
</ion-modal>
